#---------------------------------------------------------------------------
# Tritonium's <tritoniumX5@chiru.no> Clover-Steel for the CloverOS Gentoo based Operating System
# Forked from Se7en's <se7en@cock.email> Big Blue-Steel Desktop
#
# .fvwm2rc version 1.0
# Last edited: Saturday January 13 2018

# Designed with minimalism and utility in mind.

# This configuration sets up a one-row toolbar in the lower left hand
# corner (emacs, firefox, xfe, rtorrent in urxvt, and smplayer). The pixel size is
# small to try and reduce the amount of used screenspace.
# The n the Left (weechat, filezilla, porthole, gimp, gparted, and liveCD_installer) are available to click on.
#
# Note 1: Modifications to this file will be needed if you desire more or less launch icon available.
# Note 2: LiveCD_Installer is not kept in the directory after a fresh installation, feel free to modify/delete.
#
# Left Click on the desktop brings up a menu over the mouse (firefox, wpa_supplicant/gui, xfe, uxrvt,
# engrampa, scrot, a system stats display, nitrogen, arandr, emacs with this file open, alsa mixer,
# slock, a simple echo to put the computer to sleep, fvwm restart, exit to the tty, restart, and shutdown).
# This menu is great for quick launches, while the system utilities are kept towards the bottom
# to prevent accidental clicking.
#
# Right Click will show the window list
#
# Middle Click shows the window settings, even if you do not click on the top left button on a window.
# Note 3: The actions in this menu only works on the currently focused window (highlighted light green).
#
# Moving the mouse past the screen edge will show a different workspace. The work spaces are
# arranged in a 3x3 pattern, with the default desktop on the top left corner as shown:
# [D][_][_]
# [_][_][_]
# [_][_][_] D = Default workspace on fvwm load
#
# Finally the top bar on the window can be used to more the window by clicking on it, the small dot
# button will minimize the window into an icon, and the large square button will maximize the window.
#
#----------------------------------------------------------------------------

# FvwmButtons
#
*FvwmButtonsFore Black
*FvwmButtonsBack #66cc88
*FvwmButtonsFont "Shadow=0 xft:Hack:Bold:size=8"
*FvwmButtonsGeometry +0-0
*FvwmButtonsRows 1

#*FvwmButtons Restart	fvwm.xpm	Restart
*FvwmButtons Emacs	/usr/share/fvwm/images/48x48-infox/editor.xpm	Exec emacs &
*FvwmButtons Firefox	/usr/share/fvwm/images/48x48-infox/netscape.xpm	Exec firefox &
*FvwmButtons Files	/usr/share/fvwm/images/48x48-infox/folder.xpm	Exec xfe &
*FvwmButtons RTorrent	/usr/share/fvwm/images/48x48-infox/network.xpm	Exec urxvt -e rtorrent &
*FvwmButtons SMPlayer	/usr/share/fvwm/images/48x48-infox/multimedia.xpm    Exec smplayer &
*FvwmButtons Terminal	/usr/share/fvwm/images/48x48-infox/multimedia.xpm    Exec urxvt -e zsh &


 # FvwmButtons icon launcher:
   DestroyFunc Launcher
   AddToFunc Launcher
   + I DestroyModuleConfig $0Launch: *
   + I *$0Launch: Geometry 74x74
   + I *$0Launch: Columns 1
   + I *$0Launch: Rows    4
   + I *$0Launch: Frame   0
   + I *$0Launch: (1x3+0+0, Icon $1, Action (Mouse 1) `Exec $2`)
   + I *$0Launch: Pixmap none
   + I *$0Launch: (1x1+0+3, Font 8, Fore White, Back DarkGreen, \
                  Title $0, Action (Mouse 1) `Exec $2`)
   + I Style $0Launch HandleWidth 0, NoTitle
   + I Module FvwmButtons $3 $0Launch

   Launcher Weechat /usr/share/fvwm/images/48x48-infox/chat.xpm "urxvt -geometry=100x24 -T Weechat -n Weechat -e weechat" "-g +0+0"
   Launcher Filezilla /usr/share/fvwm/images/48x48-infox/network.xpm "filezilla" "-g +0+100"
   Launcher Porthole /usr/share/fvwm/images/48x48-infox/item.xpm "porthole" "-g +0+200"
   Launcher Gimp /usr/share/fvwm/images/48x48-infox/gimp.xpm "gimp" "-g +0+300"
   Launcher Disks /usr/share/fvwm/images/48x48-infox/disk.xpm "sudo gparted" "-g +0+400"
   Launcher InstallCD /usr/share/fvwm/images/48x48-infox/disk-cd.xpm "urxvt -e sudo ~/livecd_install.sh" "-g +0+500"
   

#--------------------------------------------------------------------------
# MENU Setup
#

# This defines the most common window operations
AddToMenu Window-Ops    "Window Ops"    Title
+                       "Close"         Close
+                       "Move"          Move-or-Raise2
+                       "Resize"        Resize-or-Raise2
+                       "Raise"         Raise
+                       "Lower"         Lower
+                       "(De)Iconify"   Iconify
+                       "(Un)Stick"     Stick
+                       "(Un)Maximize"  maximize_func
+                       ""              Nop
+                       "Delete"        Delete
+                       "Destroy"       Destroy
+                       ""              Nop
+                       "Refresh Screen" Refresh

# A trimmed down version of "Window Ops", good for binding to decorations
AddToMenu Window-Ops2   "Move"          Move-or-Raise
+                       "Close"         Close
+                       "Resize"        Resize-or-Raise
+                       "Raise/Lower"   RaiseLower
+                       "Iconify"       Iconify
+                       "(Un)Stick"     Stick
+                       ""              Nop
+                       "Delete"        Delete
+                       "Destroy"       Destroy
+                       ""              Nop
+                       "ScrollBar"     Module FvwmScroll 2 2
+                       "Print"         PrintFunction

# This is the root menu
AddToMenu RootMenu "Root Menu"  Title
+	"FireFox"		exec firefox &
#change torbrowser directory as needed
+	"Wifi" 			exec sudo rc-service wpa_supplicant start & wpa_gui &
+	"File Explorer"		exec xfe &
+	"Rxvt-Unicode"		exec urxvt &
+	"Archiver"		exec engrampa &
+	"Screenshot"		exec scrot -d 1 &
+	""			Nop
+	"Show Stats"		exec urxvt +sb -tr -sh 10 -geometry 380x1+0+0 -e ~/stats.sh &
+	"Wallpapers"		exec nitrogen &
+	"Monitors"		exec arandr &
+	"Edit FVWM"		exec emacs .fvwm2rc &
+	"Alsa Mixer"		exec urxvt -e alsamixer &
+	""			Nop
+	"Lock"		        exec slock &
+	"Sleep"			exec sudo echo -n mem > /sys/power/state &
+	"Lock/Sleep"		exec slock && sudo echo -n mem > /sys/power/state &
+	"Restart Fvwm2"		Restart fvwm2
+	""			Nop
+	"Exit Fvwm"		exec killall X &
+	""			Nop
+	"Reboot"		exec sudo reboot &
+	"Shutdown"		exec sudo poweroff &

#---------------------------------------------------------------------------
# COLORS and FONTS
#
# Set the fore and back border colors for the window that has focus
Colorset 3 fg #101060, bg #e6e7d7
HilightColor		linen #66cc88

# Set fore/back border colors for all other windows 
Style "*" Color slategrey #265940

# Set colors/font for pop-up menus
# Syntax: MenuStyle forecolor backcolor shadecolor font style(fvwm/mwm)
MenuStyle black grey white "Shadow=1 xft:Hack:Bold:size=8" fvwm 

# Set fonts to use on title bar and icon label
Style "*" Font "Shadow=1 xft:Hack:Bold:size=8"

#---------------------------------------------------------------------------
# MISC Setup
#
# Uncomment this to make windows auto-raise after [x] milliseconds 
Module FvwmAuto 50

# Auto Place Icons is a nice feature (Left Top Right Bottom)
#Style "*" IconBox 0 1030 750 1550

# Keep the last focus while in root window
Style "*" SloppyFocus

# Click/release must occur in <n milliseconds to be a "click"
ClickTime 250

OpaqueMoveSize 100

# Suppress the pager DeskTopSize 1 1

#---------------------------------------------------------------------------
# WINDOW Placement
#
# SmartPlacement makes new windows pop-up in blank regions of screen 
Style "*" SmartPlacement

# If SmartPlacement fails, this places it randomly instead of making you do it
Style "*" RandomPlacement

#---------------------------------------------------------------------------
# STYLE Flag Setup
#
# (decorations and window options) 
# Note: Order is important!! If compatible styles are set, styles are ORed
# together. If conflicting styles are set, the last one specified is used.

# change the default width, set a global icon, and give borders to popups
Style "*" BorderWidth 7, HandleWidth 7, Icon x.xpm, DecorateTransient

Style "Fvwm*"		NoTitle, Sticky, WindowListSkip, NoHandles, BorderWidth 0
Style "slock"		NoTitle, Sticky, WindowListSkip
Style "xbiff"		NoTitle, Sticky, WindowListSkip
Style "xload"		NoTitle, Sticky, WindowListSkip, ClickToFocus
Style "stats.sh"	NoPPosition, NoTitle, NoHandles, WindowListSkip, BorderWidth 0, Icon xterm-linux.xpm

#-----------------------------------------------------------------------------
# START Functions
#
AddToFunc "InitFunction" "I" Module FvwmButtons
+		"I" Next [!iconic CurrentScreen xterm] Focus
+		"I" CursorMove 30 40

AddToFunc "RestartFunction" "I" Module FvwmButtons
+		"I" Next [!iconic CurrentScreen xterm] Focus
+		"I" CursorMove 30 40

#-----------------------------------------------------------------------------
# COMPLEX FUNCTIONS
#
AddToFunc Move-or-Raise		"I" Raise
+				"M" Move
+				"D" Lower

AddToFunc Move-or-Raise2        "M" Raise
+				"M" Move
+				"D" Lower

# This maximize percentage gives a 64-line window and leaves the
# icons and toolbar unobscured (100 gives 77 lines)
AddToFunc Maximize-Func         "C" Maximize     0 85
+                               "D" Maximize     100 100

AddToFunc Move-or-Iconify       "I" Raise
+                               "M" Move
+                               "D" Iconify

AddToFunc Resize-or-Raise       "I" Raise
+                               "M" Resize
+                               "D" Lower

AddToFunc Resize-or-Raise2      "M" Raise
+                               "M" Resize
+                               "D" Lower

AddToFunc PrintFunction         "I" Raise
+                               "I" Exec xdpr -id $w

AddToFunc Iconify-and-Raise     "I" Iconify
+                               "I" Raise

#----------------------------------------------------------------------
# MOUSE Setup
#
# First, the root window. Button 1 brings up the Main Menu. B2 is the
# window operations list, and B3 is the winlist module
#     Button	Context Modifi 	Function
Mouse 1		R   	A       Menu RootMenu Nop
Mouse 2		R    	A       Menu Window-Ops Nop
Mouse 3		R    	A      	WindowList

# Now, title bar buttons
# Left button is the Window-Ops2 menu, right is iconify, rightmost is maximize
#     Button	Context Modifi 	Function
Mouse 0		1       A       Menu Window-Ops2 Close
Mouse 0		2    	A     	Maximize-Func
Mouse 0		4    	A     	Iconify

# Button 1 in Frame or Sides is a resize-or-raise, in Icons is a move or 
# de-iconify, and on Top does a move-or-raise
#     Button	Context Modifi 	Function
Mouse 1 	FS      A       Resize-or-Raise
Mouse 1		I       A       Move-or-Iconify
Mouse 1		T       A       Move-or-Raise

# Button 2 in an Icon is de-iconify, in Corners/Sides/Titlebar gets Ops Menu
#     Button	Context Modifi 	Function
Mouse 2 	I       A       Iconify
Mouse 2 	FST     A       Menu Window-Ops2 Nop

# Button 3 does a raise-lower on anything
Mouse 3 	TSIF    A       RaiseLower

#-----------------------------------------------------------------------
# KEYBOARD Setup
#
# press alt + control anywhere, and move the pointer by 1% of a page
Key Left	A	SC	CursorMove -1  +0
Key Right	A	SC	CursorMove +1  +0
Key Up		A	SC	CursorMove +0  -1
Key Down	A	SC	CursorMove +0  +1

# press alt + meta key, and move the pointer by 1/10 of a page
Key Left	A	SM	CursorMove -10  +0
Key Right	A	SM	CursorMove +10  +0
Key Up		A	SM	CursorMove +0  -10
Key Down	A	SM	CursorMove +0  +10

# Keyboard accelerators
Key F1		A	MC	Popup "RootMenu"
Key F2		A	MC	Popup "Window-Ops"
Key F3		A	MC	Iconify
Key F4		A	MC	Move
Key F5		A	MC	Resize
Key F6		A	MC	Next [*] focus
Key F7		A	MC	Prev [*] focus

#Quick keys
#Add key combinations here
#----------------------------------------------------------------------
